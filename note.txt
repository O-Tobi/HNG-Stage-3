import { useState, useEffect } from "react";

const App = () => {
  const [inputField, setInputField] = useState("");
  const [summarizer, setSummarizer] = useState(null);


  const handleChange = (e) => {
    const inputValue = e.target.value
    setInputField(inputValue);
    console.log(inputField);
  }

  

  useEffect(() => {
    const initSummarizer = async () => {
      try {
        const capabilities = await self.ai.summarizer.capabilities();

        if (capabilities.available === "no") {
          // The Summarizer API isn't usable.
          return;
        }

        let instance = await self.ai.summarizer.create(options);

        if (capabilities.available !== "readily") {
          // The Summarizer API can be used after the model is downloaded.
          instance.addEventListener("downloadprogress", (e) => {
            console.log(e.loaded, e.total);
          });
          await instance.ready;
        }

        setSummarizer(instance);
      } catch (error) {
        console.error("Error initializing summarizer:", error);
      }
      const options = {
        sharedContext: inputField,
        type: 'key-points',
        format: 'markdown',
        length: 'medium',
      };
    };

    initSummarizer();
  }, [inputField]);

  

  

  return (
    <div>
      <div className="output">{}</div>

      <form action="submit" method="post">
        <input onChange={handleChange}  type="text" />
        <button type="submit">Submit</button>
      </form>

    </div>
  );
};

export default App;



----------------LATEST WORKING CODE------------------------------

import { useEffect, useState } from "react";

const App = () => {
  const [textInput, setTextInput] = useState("");
  const [isLoading, setIsLoading] = useState(false);
  const [isError, setIsError] = useState(false);


  useEffect(() => {
    const initSummarizer = async () => {
      const options = {
        sharedContext: 'This is a scientific article',
        type: 'key-points',
        format: 'markdown',
        length: 'medium',
      };

      try {
        setIsLoading(true);
        setIsError(false);
        const apiCheck = await self.ai.summarizer.capabilities();
        const available = apiCheck?.available;
        console.log(available);

        if (available === "no") {
          console.log("e no dey work");
          setIsLoading(false);
          return;
        } else if (available === "readily") {
          const summarizer = await self.ai.summarizer.create(options);
          const summary = await summarizer.summarize({
            context: 'This article is intended for a tech-savvy audience.',
          });
          setTextInput(summary)
          console.log("sharp");
        } else {
          console.log("we have to download the model");
          // The Summarizer API can be used after the model is downloaded.
         const summarizer = await self.ai.summarizer.create(options);
          summarizer.addEventListener("downloadprogress", (e) => {
            console.log(e.loaded, e.total);
          });
          await summarizer.ready;
        }
      } catch (error) {
        setIsError(true);
        console.warn(error);
      } finally {
        setIsLoading(false);
        console.log("it is done");
      }
    };

    initSummarizer();
  }, []);

  if (isLoading) {
    return <h1>Loading...</h1>;
  }

  if (isError) {
    console.log("baba nla error");
  }

  return (
    <div>
      <p>{textInput}</p>
    </div>
  );
};

export default App;

.............ui.............................


<div className="input-box">
        <form onSubmit={handleSubmit}>
          <input
            type="text"
            value={tempInput}
            onChange={(e) => setTempInput(e.target.value)}
            placeholder="Type a message..."
          />
          <button type="submit" disabled={isLoading}>
            {isLoading ? "Loading..." : "Send"}
          </button>
        </form>
      </div>








 <div className="chat flex flex-col items-center px-[80px] py-[32px] gap-[24px] max-w-screen-lg mx-auto">
            {/* User 1 (Right-aligned) */}
            <div className="userinput flex justify-end gap-2 w-full">
              <div className="flex flex-col items-end max-w-[80%]">
                <p className="font-bold text-right">You</p>
                <p className="bg-[#F8FAFC] rounded-[24px] p-[12px] gap-[10px] break-words">
                  Do androids really dream? You can achieve this chat layout by
                  using flex with justify-end for user1 (right-aligned) and
                  justify-start for user2 (left-aligned).
                </p>
              </div>
              <div>
                <img src={UserAvatar} alt="" className="w-[48px] h-[48px]" />
              </div>
            </div>
  
            {/* User 2 (Left-aligned) */}
            <div className="userinput flex items-start gap-2 justify-start w-full">
              <div>
                <img src={AiAvatar} alt="" className="w-[48px] h-[48px]" />
              </div>
  
              <div className="flex flex-col items-start max-w-[80%]">
                <p className="font-bold text-left">User 2</p>
                <p className="bg-[#F8FAFC] rounded-[24px] p-[12px] gap-[10px] break-words">
                  You can achieve this chat layout by using flex with justify-end
                  for user1 (right-aligned) and justify-start for user2
                  (left-aligned).
                </p>
              </div>
            </div>

 
          </div>